# Заголовок (инцидент #idba-343)

| Ключ                 | Значение                           |
|----------------------|------------------------------------|
| Владелец постмортема | Попков Иван, Алексей Иванов        |
| Дата                 | 2024-03-21                         |
| Инцидент             | Отказ основного сервера баз данных |
| Приоритет            | Высокий                            |
| Затронутые сервисы   | База данных клиентов               |
| Статус               | Решено                             |

## Резюме

21 марта 2024 года произошел полный отказ основного сервера баз данных, что привело к недоступности данных клиентов и временной остановке всех операционных процессов, связанных с обработкой клиентских данных. Продолжительность инцидента составила 3 часа, после чего было восстановлено нормальное функционирование.

## Отчет по постмортему

| Инструкции            | Отчет                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Предшествующие события | За два дня до инцидента было проведено обновление системы управления базами данных.                                                                                                                                                                                                                                                                                                                                                                  |
| Неисправность         | Сбой в обновленной системе управления базами данных из-за несовместимости с текущей конфигурацией сервера.                                                                                                                                                                                                                                                                                                                                           |
| Влияние               | Полная недоступность данных клиентов на протяжении 3 часов. Прямые потери из-за невозможности выполнения операций с клиентами.                                                                                                                                                                                                                                                                                                                       |
| Обнаружение           | Система мониторинга выдала аварийное уведомление, которое было автоматически отправлено команде технической поддержки.                                                                                                                                                                                                                                                                                                                               |
| Реагирование          | Техническая команда приступила к устранению инцидента в течение 15 минут после его обнаружения.                                                                                                                                                                                                                                                                                                                                                      |
| Восстановление        | Восстановление работы сервера путем отката на предыдущую версию системы управления базами данных.                                                                                                                                                                                                                                                                                                                                                    |
| Хронология            | - 08:00 - начало инцидента.<br>- 08:15 - начало работ по устранению.<br>- 11:00 - полное восстановление работы.                                                                                                                                                                                                                                                                                                                                      |
| Пять причин коренной проблемы | 1. Почему произошел сбой? - Несовместимость обновления с сервером.<br>2. Почему не была проверена совместимость? - Отсутствие тестирования на конкретной конфигурации сервера.<br>3. Почему отсутствовало тестирование? - Недостаток ресурсов в команде QA.<br>4. Почему были недостаточны ресурсы? - Неправильное распределение бюджета.<br>5. Почему произошло неправильное распределение бюджета? - Ошибка в планировании ресурсов на год вперед. |
| Безвиновное установление причин | Несмотря на серьезность инцидента, важно отметить, что действия команды были направлены на быстрое устранение последствий сбоя, и никакого намеренного пренебрежения или умысла не было.                                                                                                                                                                                                                                                             |
| Проверка задач        | После инцидента был проведен полный аудит задач, связанных с обновлениями и тестированиями систем.                                                                                                                                                                                                                                                                                                                                                   |
| Связанные инциденты   | Нет данных о связанных инцидентах, однако были прецеденты с подобными сбоями в других проектах.                                                                                                                                                                                                                                                                                                                                                      |
| Извлеченные уроки     | Важность полного тестирования обновлений в среде, максимально приближенной к производственной. Необходимость пересмотра распределения ресурсов и бюджетирования команды.                                                                                                                                                                                                                                                                             |
| Задачи на следующие шаги | 1. Разработка и внедрение процедур тестирования новых обновлений на всех уровнях.<br>2. Пересмотр бюджета и ресурсов команды QA для усиления тестирования.<br>3. Проведение тренингов по управлению рисками для всех ключевых команд.                                                                                                                                                                                                                |
